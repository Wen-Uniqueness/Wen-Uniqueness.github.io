
## Introduction

>**Definition** 
>A Dedekind domain is a *noetherian integrally closed integral domain* in which any nonzero prime ideal is maximal.

Basically a Dedekind domain should be thought as a smooth curve. (挖个坑，回头再来整理，这里的核心思想正是代数几何在代数数论中的应用)

If $K$ is a number field, then $\mathcal O_K$ is a Dedekind domain. Same is true for any localization of $\mathcal O_K$.
PID $\Rightarrow$ Dedekind domain.

>**Theorem** 
>Every nonzero ideal $\mathfrak{a}$ in a Dedekind domain $R$ can be written as a product of maximal ideals $\mathfrak{a} = \mathfrak{p}_1 \dots \mathfrak{p}_n$ unique up to permutation.

**proof.**
you can find it in [Algebraic Number Theory](https://link.springer.com/book/10.1007/978-1-4612-0853-2).

>**Definition** (fractional ideal)
>Let R be a Dedeking domain and $K = \text{Frac}(R)$. A fractional ideal of $R$ is an $R$-submodule $0 \not = M ⊂ K$ such that $aM ⊂ R$ for some nonzero $a \in R$

For any nonzero $\alpha \in K^\times, (\alpha) = \alpha R$ is a fractional ideal. Such fractional ideals are called principal. 


>**Theorem** 
>The set of fractional ideals of a Dedekind domain $R$ form an abelian group under products of ideals. 
>The unit element is $R$ and the inverse of a fractional ideal $\mathfrak{a}$ is $\mathfrak{a}^{−1} := \{x \in K = \mathrm{Frac}(R), x \mathfrak{a} ⊂ R\}$.
>$\mathfrak{a}^{−1}$ is also a fraction ideal of $R$.

**proof.**
you can find it in [Algebraic Number Theory](https://link.springer.com/book/10.1007/978-1-4612-0853-2).

既然戴德金环天然送给我们一个群的结构，那么很自然的一个问题就是查看这个群结构是否在我们熟悉的$K$的乘法群结构上提供了更多的信息。
Denote by $J_R$ the group of fractional ideals and $P_R ⊂ J_R$ the subgroup of principal fractional ideals.

>**Definition** (ideal class group) 
>The ideal class group of $R$ is $\mathrm{Cl}_R := J_R/P_R$. For a number field $K$, we denote $\mathrm{Cl}_K := \mathrm{Cl}_{\mathcal O_K}$ and call it the ideal class group of $K$. 

We have an exact sequence 
$$1 \to R^\times \to K^\times \to J_R \to \mathrm{Cl}_R \to 1$$ 
The ideal class group precisely measures the failure of unique factorization of elements.
事实上，$\mathrm{Cl}_R$ 给我们提供了更多的信息。

## property of $\mathrm{Cl}_R$
在继续我们的旅途之前，先看一看这个新出现的$\mathrm{Cl}_R$的威力。

>**Proposition**
>For a Dedekind domain R, the following are equivalent
> (1) $\mathrm{Cl}_R = 1$; 
> (2) $R$ is a PID; 
> (3) $R$ is a UFD; 
> (4) Every prime ideal of $R$ is principal.

**proof.**
(4) $\Rightarrow$ (1), the condition is actually a disguised that $J_R = P_R$, then it is clear.
(1) $\Rightarrow$ (2), obviously by definition.
(2) $\Rightarrow$ (3), obviously by Abstract algebra.
(3) $\Rightarrow$ (4), 
using property of Dedekind domain, every nonzero prime ideal is maximal ideal.
Let $p$ be a nonzero prime ideal in a Dedekind domain $A$ that is also a UFD, let $a \in p$ nonzero, and let $a = p_1 \cdots p_n$ be the unique factorization of a into irreducible elements. 
Now $\mathfrak{p}$ contains and therefore divides $(a) = (p_1)\cdots(p_n)$, so p divides (and therefore contains) some $(p_i)$, which is necessarily a prime ideal (in a UFD, irreducible elements generate prime ideals). 
But $A$ has dimension one, so we must have $\mathfrak{p} = (p_i)$

还有一个我们暂时不会去证明的定理
>**Theorem**
>For any ideal class $C \in \mathrm{Cl}_K$, the set of prime ideals in $C$ has Dirichlet density $\frac{1}{h_k}$ .

## Discriminant and Norm
在开始前，容我再买一关子，让我们接着引入一些“测量”数域的工具。

### norm and trace

大致思想是将 $L$ 视作 $F$  线性空间
>**Definition** norm and trace
>Let $L/F$ be a finite field extension. Let $\mu_\alpha$ be the $K$-linear endomorphism of $L$ defined by multiplication by $\alpha$. 
>$$\mathrm{Tr}_{L/F}(\alpha):=\mathrm{Tr}(\mu_\alpha :L \to L), N_{L/F}(\alpha):=\det(\mu_\alpha)$$

### trace pairing

>**Definition** 
>The trace pairing on $L$ is the symmetric $F$-bilinear form $L \times L \to F$ defined by $(\alpha, \beta) \mapsto \mathrm{Tr}_{L/K} (\alpha \beta)$ for all $\alpha, \beta \in L$.

### discriminant

>**Definition**
>Let $n = [L : K]$. The discriminant of $n$-elements $x_1,\dots , x_n \in L$ is defined by $$d(x_1, \dots , x_n) := (x_1 \wedge \dots \wedge x_n, x_1 \wedge \dots \wedge x_n) = \det(\mathrm{Tr}_{L/K} (x_i x_j))$$

The trace pairing is nondegenerate if and only if the discriminant is not identically zero, in which case $d(x_1, \dots , x_n)  \not = 0$ if and only if $x_1, \dots , x_n$ form an $F$ basis of $L$.

>**Definition**
>The discriminant of a lattice $M \subset K$ is the integer $d(M ) := d(\omega_1, \dots, \omega_n)$ where $\omega_1, \dots , \omega_n$ is a $\mathbb Z$-basis of $M$ .



>**Definition**
>The discriminant of the number field $K$ is the discriminant of the lattice $\mathcal O_K$. We denote it by $d_K := d(\mathcal O_K )$

## $\mathrm{Cl}_K$ is finite

>**Theorem** 
>For a number field $K$, the ideal class group $\mathrm{Cl}_K$ is finite.



## Final goal
**“Smallness” of number rings.** 
Compared to a general Dedekind domain, the number rings $\mathcal O_K$ are “small” in many aspects. By this we mean the following fundamental finiteness properties: 
- $\mathcal O_K$ (and all its fractional ideals) is finitely generated abelian group. 
- (Finiteness of ideal class groups) $\mathrm{Cl}_K$ is finite. 
- (Dirichlet’s unit theorem) The unit group $\mathcal O^{\times} _K$ is a finitely generated abelian group whose rank is precisely determined. 

These are the key results in the first part of our course. We start with the finiteness of $\mathcal O_K$ , building uppon the important tool of trace pairing.